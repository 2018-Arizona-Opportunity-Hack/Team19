{"version":3,"sources":["webpack:///./src/views/campaign/NewCampaign.vue?cc59","webpack:///src/views/campaign/NewCampaign.vue","webpack:///./src/views/campaign/NewCampaign.vue?9bf2","webpack:///./src/views/campaign/NewCampaign.vue?5aa3","webpack:///./src/views/campaign/NewCampaign.vue?4364"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","parsing","users","_e","attrs","type","placeholder","autofocus","domProps","value","campaignName","ref","accept","on","click","processFile","_v","_s","commitNewCampaign","staticRenderFns","NewCampaignvue_type_script_lang_js_","data","pushing","stage","methods","_this","file","$refs","files","console","log","$store","dispatch","then","_commitNewCampaign","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","id","wrap","_context","prev","next","name","sent","$router","push","concat","stop","apply","arguments","campaign_NewCampaignvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NewCampaign_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NewCampaign_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"kJAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,qBAA+BN,EAAAO,SAAAP,EAAAQ,MAAwYR,EAAAS,KAAxYL,EAAA,OAAyCE,YAAA,qBAA+BF,EAAA,SAAcE,YAAA,qBAAAI,OAAwCC,KAAA,OAAAC,YAAA,gBAAAC,UAAA,IAA2DC,UAAWC,MAAAf,EAAAgB,gBAA0BZ,EAAA,SAAca,IAAA,OAAAX,YAAA,QAAAI,OAAsCC,KAAA,OAAAO,OAAA,cAAmCd,EAAA,OAAAA,EAAA,OAAsBE,YAAA,oBAAAa,IAAoCC,MAAApB,EAAAqB,eAAyBrB,EAAAsB,GAAA,gCAAAtB,EAAA,QAAAI,EAAA,OAAAJ,EAAAsB,GAAA,uCAAAtB,EAAAS,MAAAT,EAAAO,SAAAP,EAAAQ,MAAAJ,EAAA,OAAuKE,YAAA,OAAiBN,EAAAsB,GAAA,qCAAAlB,EAAA,OAAAJ,EAAAsB,GAAAtB,EAAAuB,GAAAvB,EAAAQ,UAAAJ,EAAA,OAAAA,EAAA,OAAwGE,YAAA,gCAAAa,IAAgDC,MAAApB,EAAAwB,qBAA+BxB,EAAAsB,GAAA,0CAAAlB,EAAA,OAA6DE,YAAA,sBAAgCN,EAAAsB,GAAA,sDAAAtB,EAAAS,QAC79BgB,6BC6BAC,4CACAC,KADA,WAEA,OACAX,aAAA,GACAR,MAAA,KACAD,SAAA,EACAqB,SAAA,EACAC,MAAA,IAGAC,SACAT,YADA,WACA,IAAAU,EAAA9B,KAEA+B,EAAA/B,KAAAgC,MAAAD,KAAAE,MAAA,GACAC,QAAAC,IAAAJ,GACA/B,KAAAO,MAAAP,KAAAoC,OAAAC,SAAA,SACAN,SAEAO,KAAA,SAAA/B,GACAuB,EAAAxB,SAAA,EACAwB,EAAAvB,UAEAP,KAAAM,SAAA,GAEAiB,kBAdA,eAAAgB,EAAAC,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAA,OAAAH,mBAAAI,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAeAjD,KAAA2B,SAAA,EACAO,QAAAC,IAAAnC,MAhBA+C,EAAAE,KAAA,EAiBAjD,KAAAoC,OAAAC,SAAA,eACA9B,MAAAP,KAAAO,MACA2C,KAAAlD,KAAAe,eAnBA,OAiBA8B,EAjBAE,EAAAI,KAqBAnD,KAAAoD,QAAAC,KAAA,cAAAC,OAAAT,EAAA,UArBA,wBAAAE,EAAAQ,SAAAX,EAAA5C,SAAA,yBAAAuC,EAAAiB,MAAAxD,KAAAyD,YAAA,MCxCoWC,EAAA,0BCQpWC,EAAgBnB,OAAAoB,EAAA,KAAApB,CACdkB,EACA5D,EACA0B,GACF,EACA,KACA,KACA,MAIAmC,EAAAE,QAAAC,OAAA,kBACeC,EAAA,WAAAJ,6CCpBf,IAAAK,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAieE,EAAG","file":"js/chunk-088d727e.b5198217.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-column\"},[(!_vm.parsing && !_vm.users)?_c('div',{staticClass:\"flex flex-column\"},[_c('input',{staticClass:\"p2 m1 h3 flex-auto\",attrs:{\"type\":\"text\",\"placeholder\":\"Campaign Name\",\"autofocus\":\"\"},domProps:{\"value\":_vm.campaignName}}),_c('input',{ref:\"file\",staticClass:\"m1 h4\",attrs:{\"type\":\"file\",\"accept\":\"text/csv\"}}),_c('div',[_c('div',{staticClass:\"button py1 px2 m1\",on:{\"click\":_vm.processFile}},[_vm._v(\"\\n        next\\n      \")])])]):_vm._e(),(_vm.parsing)?_c('div',[_vm._v(\"pretend this is a loading spinner\")]):_vm._e(),(!_vm.parsing && _vm.users)?_c('div',{staticClass:\"m1\"},[_vm._v(\"\\n    Preview of user data:\\n    \"),_c('pre',[_vm._v(_vm._s(_vm.users))]),_c('div',[_c('div',{staticClass:\"button btn-success py1 px2 m1\",on:{\"click\":_vm.commitNewCampaign}},[_vm._v(\"\\n        My data looks good\\n      \")]),_c('div',{staticClass:\"button py1 px2 m1\"},[_vm._v(\"\\n        I need to change something\\n      \")])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flex flex-column\">\n    <div class=\"flex flex-column\" v-if=\"!parsing && !users\">\n      <input class=\"p2 m1 h3 flex-auto\" type=\"text\" :value=\"campaignName\" placeholder=\"Campaign Name\" autofocus/>\n      <input class=\"m1 h4\" type=\"file\" ref=\"file\" accept=\"text/csv\">\n      <div>\n        <div @click=\"processFile\" class=\"button py1 px2 m1\">\n          next\n        </div>\n      </div>\n    </div>\n    <div v-if=\"parsing\">pretend this is a loading spinner</div>\n    <div v-if=\"!parsing && users\" class=\"m1\">\n      Preview of user data:\n      <pre>{{users}}</pre>\n\n      <div>\n        <div @click=\"commitNewCampaign\" class=\"button btn-success py1 px2 m1\">\n          My data looks good\n        </div>\n        <div class=\"button py1 px2 m1\">\n          I need to change something\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport papa from 'papaparse';\nexport default {\n  data() {\n    return {\n      campaignName: \"\",\n      users: null,\n      parsing: false,\n      pushing: false,\n      stage: 0\n    };\n  },\n  methods: {\n    processFile() {\n      // this.file = event.target.value\n      const file = this.$refs.file.files[0];\n      console.log(file);\n      this.users = this.$store.dispatch('parse', {\n        file,\n      })\n      .then((users) => {\n        this.parsing = false;\n        this.users = users;\n      });\n      this.parsing = true;\n    },\n    async commitNewCampaign() {\n      this.pushing = true;\n      console.log(this);\n      const id = await this.$store.dispatch('newCampaign', {\n        users: this.users,\n        name: this.campaignName,\n      })\n      this.$router.push(`/campaigns/${id}/edit`);\n      // send after user verification of data\n    }\n  },\n};\n</script>\n\n<style>\ninput[type=\"text\"] {\n  border-width: 0 0 1px 0;\n}\n.button {\n  cursor: pointer;\n  background: #333;\n  color: #eee;\n  flex: 1 0 auto;\n  float: left;\n  /* border: 1px solid #888; */\n  border-radius: 3px;\n}\n.button:hover {\n  background: #555;\n}\n.btn-success {\n  background: #0a0;\n}\n.btn-success:hover {\n  background: rgb(0, 204, 0);\n}\npre {\n  max-height: 400px;\n  overflow: auto;\n  padding: 1em;\n  background: rgb(250, 250, 250);\n  border: 1px solid #aaa;\n  border-radius: 3px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewCampaign.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewCampaign.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewCampaign.vue?vue&type=template&id=0c97c42a&\"\nimport script from \"./NewCampaign.vue?vue&type=script&lang=js&\"\nexport * from \"./NewCampaign.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewCampaign.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"NewCampaign.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewCampaign.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewCampaign.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}